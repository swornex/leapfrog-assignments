var S=Object.defineProperty;var q=(e,t,s)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var f=(e,t,s)=>(q(e,typeof t!="symbol"?t+"":t,s),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=s(i);fetch(i.href,l)}})();class O{constructor(t,s=!1){f(this,"title");f(this,"isCompleted");f(this,"id");this.id=Date.now().toString(),this.title=t,this.isCompleted=s}toggleIsisCompleted(){this.isCompleted=!this.isCompleted,r()}}function w(e,t){const s=document.createElement("button");s.className="delete-button";const n=document.createElement("i");return n.className="ph-bold ph-trash",s.appendChild(n),s.addEventListener("click",()=>{e.removeTask(t.id),r()}),s}function B(e,t,s){const n=document.createElement("button");n.className="edit-button";const i=document.createElement("i");return i.className="ph-bold ph-pencil",n.appendChild(i),n.addEventListener("click",()=>{e.hasAttribute("readonly")?(e.removeAttribute("readonly"),e.className="task-title",e.focus(),i.className="ph-bold ph-check"):(t.editTask(s.id,e.value),e.setAttribute("readonly","readonly"),e.className="task-title mouse-none",i.className="ph-bold ph-pencil",r())}),n}class F{constructor(){f(this,"list");this.list=[]}addTask(t){this.list.push(new O(t))}getTaskElement(t){const{searchQuery:s,type:n}=t;let i=this.getFilteredType(n);return s&&(i=i.filter(l=>l.title.toLowerCase().includes(s.toLowerCase()))),i.toReversed().map(l=>{const o=document.createElement("li");o.className="todo-item";const a=document.createElement("input");a.id=l.id,a.className="checkbox",a.type="checkbox",a.checked=l.isCompleted,a.addEventListener("change",()=>{l.toggleIsisCompleted()});const y=document.createElement("label");y.htmlFor=l.id,y.className="todo-label";const h=document.createElement("input");h.value=l.title,h.className="task-title mouse-none",h.readOnly=!0;const v=document.createElement("div");v.className="alter-buttons";const L=B(h,this,l),T=w(this,l);return v.appendChild(L),v.appendChild(T),y.appendChild(h),o.appendChild(a),o.appendChild(y),o.appendChild(v),o})}removeTask(t){this.list=this.list.filter(s=>s.id!==t)}editTask(t,s){const n=this.list.find(i=>i.id===t);n&&(n.title=s)}getFilteredType(t){return this.list.filter(s=>{if(t==="all")return!0;if(t==="completed")return s.isCompleted;if(t==="remaining")return!s.isCompleted})}}const E=document.querySelector(".todo-input"),g=document.querySelector(".todo-button"),d=document.querySelector("#search"),b=document.querySelector(".todo-list"),u=document.querySelector("#all"),m=document.querySelector("#completed"),p=document.querySelector("#remaining");let c={type:"all",searchQuery:""};const C=new F;function A(){const e=E==null?void 0:E.value;e&&(C.addTask(e),E.value="",k(),c={...c,type:"all"},r())}function N(e){k(),u.className=`list-item ${e==="all"?"list-item--active":""}`,m.className=`list-item ${e==="completed"?"list-item--active":""}`,p.className=`list-item ${e==="remaining"?"list-item--active":""}`,c={...c,type:e},r()}function P(){const e=d==null?void 0:d.value;c={...c,searchQuery:e},r()}function k(){u&&p&&m&&(u.className="list-item list-item--active",p.className="list-item",m.className="list-item")}function r(){const e=C.getTaskElement(c);b==null||b.replaceChildren(...e)}g==null||g.addEventListener("click",A);u==null||u.addEventListener("click",()=>N("all"));m==null||m.addEventListener("click",()=>N("completed"));p==null||p.addEventListener("click",()=>N("remaining"));d==null||d.addEventListener("input",P);r();
